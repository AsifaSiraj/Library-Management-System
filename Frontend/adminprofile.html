
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Profile</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="../Frontend/borrowBookFillingPage.css" />
  <style>
    .error {
      color: red;
      font-size: 14px;
    }
  </style>
</head>
<body>
  <div class="container">
    <div id="buyer-box">
      <a href="AdminPage.html">
        <img class="arrow" src="../src/images/arrow.png" style="width: 20px; margin-left: 4%; margin-top: 3%;">
      </a>
      <h1 class="heading">Online Library and Bookstore</h1>
      <div class="input-data">
        <h1 style="margin-top: 55px;">Admin Profile</h1>
        <input type="text" id="admin_name" name="admin_name" placeholder="Enter Name" maxlength="25" required>
        <input type="text" id="admin_ph" name="admin_ph" placeholder="Enter Phone Number" maxlength="15" pattern="[0-9]{10,15}" required>
        <input type="text" id="admin_address" name="admin_address" placeholder="Enter Address" maxlength="40" required>
        <input type="text" id="admin_id" name="admin_id" placeholder="Enter ID" min="1" max="999999" required>
        <input type="text" id="nic" name="nic" placeholder="Enter NIC number" maxlength="25" pattern="[0-9]{9}[vVxX]" required>
        <input id="save_profile" type="submit" name="save_profile" value="Save Profile" />
      </div>
      <div class="right"></div>
    </div>
  </div>

  <script>
    var userIdInput = document.getElementById('admin_id');

    userIdInput.addEventListener('focus', function() {
      userIdInput.type = 'number';
    });

    userIdInput.addEventListener('blur', function() {
      userIdInput.type = 'text';
    });
  </script>

  <script>
    var userphInput = document.getElementById('admin_ph');

    userphInput.addEventListener('focus', function() {
      userphInput.type = 'number';
    });

    userphInput.addEventListener('blur', function() {
      userphInput.type = 'text';
    });
  </script>

  <script>
    function validateForm() {
      var userNameInput = document.getElementById('admin_name');
      var userNameValue = userNameInput.value.trim();
      if (!/^[a-zA-Z]+$/.test(userNameValue)) {
        alert('admin name should only contain alphabets (both uppercase and lowercase).');
        return false;
      }

      var userPhInput = document.getElementById('admin_ph');
      var userPhValue = userPhInput.value.trim();
      if (!/^\d+$/.test(userPhValue)) {
        alert('Phone number should only contain digits.');
        return false;
      }

      var nicInput = document.getElementById('nic');
      if (!nicInput.checkValidity()) {
        showError(nicInput);
        return false;
      }

      return true;
    }

    function showError(input) {
      var small = input.nextElementSibling;
      var errorMessage = input.validationMessage;

      small.innerText = errorMessage;
      small.className = 'error';
    }
  </script>

  <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
  <script>
    document.getElementById('save_profile').onclick = function (event) {
      event.preventDefault();
      
      var adminName = document.getElementById('admin_name').value.trim();
      var adminPh = document.getElementById('admin_ph').value.trim();
      var adminAddress = document.getElementById('admin_address').value.trim();
      var adminId = document.getElementById('admin_id').value.trim();
      var nic = document.getElementById('nic').value.trim();

      if (adminName === "" || adminPh === "" || adminAddress === "" || adminId === "" || nic === "") {
        alert('Please fill in all the fields.');
      } else {
        swal({
          title: "Profile Saved!",
          text: "You have successfully saved your profile.",
          icon: "success",
          button: "OK",
        }).then(() => {
          // Reload the page after the SweetAlert is closed
          location.reload();
        });
      }
    };
  </script>
</body>
</html>
